export default class AbrirProjetos {
  constructor() {
    this.projetos = [
      {
        imagens: ["../assets/projetos/projetos-1.jpg"],
        descricao: {
          titulo: "Tomaí",
          textos: [
            "A marca Tomaí, foi desenvolvida em um estudo para que pudesse ser realizada com maior liberdade possível a criação de três imagens de divulgação para os refrigerantes da marca, sendo esses dos sabores abacaxi, açaí e kiwi. Ela foi desenvolvida do zero e cada um dos rótulos foi pensado exclusivamente para cada sabor dela, transmitido por meio de sua paleta de cores.",
            "O objetivo aqui então, foi transmitir a fluidez dela por meio das curvas que estão presentes nas formas da embalagem, assim como no próprio logotipo dela. Como é possível perceber, é uma marca que busca ser quase que totalmente brasileira, desde seu nome até seus sabores, com exceção do kiwi que foi escolhido por funcionar como recurso estilístico.",
          ],
          imagens: [
            "../assets/projetos/projetos-1-1.jpg",
            "../assets/projetos/projetos-1-2.jpg",
            "../assets/projetos/projetos-1-3.jpg",
            "../assets/projetos/projetos-1-4.jpg",
            "../assets/projetos/projetos-1-5.jpg",
            "../assets/projetos/projetos-1-6.jpg",
            "../assets/projetos/projetos-1-7.jpg",
          ],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-2.jpg"],
        descricao: {
          titulo: "Tomaí",
          textos: [
            "A marca Tomaí, foi desenvolvida em um estudo para que pudesse ser realizada com maior liberdade possível a criação de três imagens de divulgação para os refrigerantes da marca, sendo esses dos sabores abacaxi, açaí e kiwi. Ela foi desenvolvida do zero e cada um dos rótulos foi pensado exclusivamente para cada sabor dela, transmitido por meio de sua paleta de cores.",
            "O objetivo aqui então, foi transmitir a fluidez dela por meio das curvas que estão presentes nas formas da embalagem, assim como no próprio logotipo dela. Como é possível perceber, é uma marca que busca ser quase que totalmente brasileira, desde seu nome até seus sabores, com exceção do kiwi que foi escolhido por funcionar como recurso estilístico.",
          ],
          imagens: [
            "../assets/projetos/projetos-1-1.jpg",
            "../assets/projetos/projetos-1-2.jpg",
            "../assets/projetos/projetos-1-3.jpg",
            "../assets/projetos/projetos-1-4.jpg",
            "../assets/projetos/projetos-1-5.jpg",
            "../assets/projetos/projetos-1-6.jpg",
            "../assets/projetos/projetos-1-7.jpg",
          ],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-3.jpg"],
        descricao: {
          titulo: "Tomaí",
          textos: [
            "A marca Tomaí, foi desenvolvida em um estudo para que pudesse ser realizada com maior liberdade possível a criação de três imagens de divulgação para os refrigerantes da marca, sendo esses dos sabores abacaxi, açaí e kiwi. Ela foi desenvolvida do zero e cada um dos rótulos foi pensado exclusivamente para cada sabor dela, transmitido por meio de sua paleta de cores.",
            "O objetivo aqui então, foi transmitir a fluidez dela por meio das curvas que estão presentes nas formas da embalagem, assim como no próprio logotipo dela. Como é possível perceber, é uma marca que busca ser quase que totalmente brasileira, desde seu nome até seus sabores, com exceção do kiwi que foi escolhido por funcionar como recurso estilístico.",
          ],
          imagens: [
            "../assets/projetos/projetos-1-1.jpg",
            "../assets/projetos/projetos-1-2.jpg",
            "../assets/projetos/projetos-1-3.jpg",
            "../assets/projetos/projetos-1-4.jpg",
            "../assets/projetos/projetos-1-5.jpg",
            "../assets/projetos/projetos-1-6.jpg",
            "../assets/projetos/projetos-1-7.jpg",
          ],
        },
      },
      {
        imagens: [
          "../assets/projetos/projetos-5.jpg",
          "../assets/projetos/projetos-5-1.jpg",
          "../assets/projetos/projetos-5-2.jpg",
          "../assets/projetos/projetos-5-3.jpg",
          "../assets/projetos/projetos-5-4.jpg",
          "../assets/projetos/projetos-5-5.jpg",
          "../assets/projetos/projetos-5-6.jpg",
          "../assets/projetos/projetos-5-7.jpg",
          "../assets/projetos/projetos-5-8.jpg",
          "../assets/projetos/projetos-5-9.jpg",
        ],
        descricao: {
          titulo: "EDIÇÃO DE FOTOS - THIAGO FINCH",
          textos: [
            "Projeto de edição de fotografia desenvolvido em um processo seletivo para o cargo de editor de fotos do Thiago Finch. Cada uma dessas imagens foi tratada com o objetivo de ressaltar a grandiosidade dos momentos representados em cada uma das imagens. Assim como as fotos, um pôster inicial foi criado para que fosse possível mostrar toda a capacidade que eu possuía para reunir um conjunto de imagens.",
          ],
          imagens: [],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-6.jpg"],
        descricao: {
          titulo: "Garmin",
          textos: [
            "O relógio esportivo Garmin, por sua vez, retratou o aspecto de velocidade e competitividade que ele transmite ao ser utilizado por corredores profissionais e adeptos do esporte.",
          ],
          imagens: [],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-4.jpg", "../assets/projetos/projetos-4.0.1.jpg", "../assets/projetos/projetos-4.0.2.jpg", "../assets/projetos/projetos-4.0.3.jpg"],
        descricao: {
          titulo: "PROJETO “LIMIARES” RÓTULOS DE VINHO",
          textos: [
            "Projeto nomeado de Limiares, de Rótulos de Vinhos, tinto, branco e rosé, desenvolvido para estudo e portfólio. Foram realizados três rótulos principais, e um além dele como edição especial. Esse projeto foi nomeado dessa maneira para representar a proximidade entre as personagens tomadas como base para as imagens ilustradas em cada um dos rótulos.",
          ],
          imagens: ["../assets/projetos/projetos-4.1.jpg", "../assets/projetos/projetos-4.2.jpg", "../assets/projetos/projetos-4.3.jpg", "../assets/projetos/projetos-4.4.jpg", "../assets/projetos/projetos-4.5.jpg", "../assets/projetos/projetos-4.6.jpg"],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-9.jpg"],
        descricao: {
          titulo: "CHIMICHURRI",
          textos: [
            "Imagem desenvolvida como forma de estudo, com intuito de apresentar hambúrgueres da melhor forma possível",
          ],
          imagens: [],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-10.jpg"],
        descricao: {
          titulo: "CAFÉ PARAÍSO",
          textos: [
            "Por fim o Café Paraíso, marca desenvolvida para um projeto de uma cafeteria que procura remeter à infância quando estamos compartilhando momentos com nossos avós em suas casas, sempre acompanhados de um café e um bolo feito especialmente pela vó.",
          ],
          imagens: [],
        },
      },
      {
        imagens: ["../assets/projetos/projetos-7.jpg"],
        descricao: {
          titulo: "CHANEL BLEU",
          textos: [
            "O famoso perfume, Chanel Bleu, é retratado de baixo d'água, buscando transmitir a sensação de leveza e suspensão que ele traz, além de toda sua sofisticação.",
          ],
          imagens: [],
        },
      },
    ];
    this.container = document.querySelector("#projetos .container");
    this.scrollTo = document.getElementById("projetos");
    this.carrossel = document.querySelectorAll("#carrossel img");
    this.btnAnterior = document.getElementById("btn-anterior");
    this.btnProximo = document.getElementById("btn-proximo");
    this.indexProjeto = null;
    this.abrirProjeto = this.abrirProjeto.bind(this);
    this.passarFotosProjeto = this.passarFotosProjeto.bind(this);
    this.interval = null;
    this.projeto = null;
    this.index = 0;
  }

  passarFotosProjeto() {
    this.index = (this.index + 1) % this.projeto.imagens.length;
    const src = this.projeto.imagens[this.index];
    this.container.children[0].innerHTML = `<img src="${src}" alt="${this.projeto.descricao.titulo}">`;
  }

  preencherElementos() {
    if (this.projeto.imagens.length !== 0) {
      this.container.children[0].innerHTML = `<img src="${this.projeto.imagens[0]}" alt="${this.projeto.descricao.titulo}">
      `;
    }

    if (this.projeto.descricao.titulo) {
      this.container.children[1].children[0].innerHTML = `<p>${this.projeto.descricao.titulo}</p>
      `;
    }

    if (this.projeto.descricao.textos.length !== 0) {
      let paragrafos = "";
      this.projeto.descricao.textos.forEach((i, index) => {
        paragrafos += `<p>${i}</p>`;
      });
      this.container.children[1].children[1].innerHTML = paragrafos;
    } else {
      this.container.children[1].children[1].innerHTML = ``;
    }

    if (this.projeto.descricao.imagens.length !== 0) {
      let imagens = "";
      this.projeto.descricao.imagens.forEach((i, index) => {
        imagens += `<img src="${i}" alt="">`;
      });
      this.container.children[1].children[2].innerHTML = imagens;
    } else {
      this.container.children[1].children[2].innerHTML = ``;
    }

    if (this.projeto.imagens.length > 1) {
      if (!this.interval) {
        this.interval = setInterval(() => {
          this.passarFotosProjeto();
        }, 2500);
      }
    }
  }

  abrirProjeto(alt) {
    if (this.interval) {
      clearInterval(this.interval);
      this.interval = null;
    }
    this.indexProjeto = Number(alt.replace(/[^\d]/g, "")) - 1;
    this.projeto = this.projetos[this.indexProjeto];
    this.preencherElementos();
    this.scrollTo.scrollIntoView({ behavior: "smooth", block: "start" });
  }

  passarManual(index) {
    this.indexProjeto = index;
    this.projeto = this.projetos[this.indexProjeto];
    this.preencherElementos();
    this.scrollTo.scrollIntoView({ behavior: "smooth", block: "start" });
  }

  init() {
    this.carrossel.forEach((img) =>
      img.addEventListener("pointerdown", ({ target }) =>
        this.abrirProjeto(target.alt),
      ),
    );

    this.btnProximo.addEventListener("pointerdown", () => {
      if(this.indexProjeto === null) {
        this.passarManual(2);
      } else if(this.indexProjeto <= this.projetos.length - 2) {
        this.indexProjeto++;
        this.passarManual(this.indexProjeto);
      } else if (this.indexProjeto >= this.projetos.length - 1) {
        this.indexProjeto = 1;
        this.passarManual(this.indexProjeto);
      }
    });

    this.btnAnterior.addEventListener("pointerdown", () => {
      if(this.indexProjeto === null || this.indexProjeto === 0) {
        this.passarManual(this.projetos.length - 1);
      } else if(this.indexProjeto > 0) {
        this.indexProjeto--;
        this.passarManual(this.indexProjeto);
      }
    })
  }
}
